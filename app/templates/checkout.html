{% extends "base.html" %}

{% block title %}Checkout ¬∑ Yorkie Bakery{% endblock %}

{% block content %}
<div class="checkout-page">
  <h1 class="checkout-title">üßæ Checkout</h1>

  {% if cart %}
    <div class="checkout-layout">
      <!-- LEFT: CUSTOMER INFO -->
      <form action="/cart/checkout" method="post" class="checkout-form">
        <div class="card-section">
          <h3>Contact Information</h3>
          <p class="section-subtitle">
            We‚Äôll use this to send your order confirmation and delivery updates. ‚úâÔ∏è
          </p>

          <label for="name">Your Name *</label>
          <input type="text" name="name" id="name" placeholder="e.g. Alex Baker" required>

          <label for="email">Email *</label>
          <input type="email" name="email" id="email" placeholder="you@example.com" required>

          <label for="address">Delivery Address *</label>
          <textarea name="address" id="address" rows="3" placeholder="Street, city, state, ZIP" required></textarea>
        </div>

        <button type="submit" class="btn confirm-btn">
          ‚úÖ Confirm Order
        </button>
      </form>

      <!-- RIGHT: ORDER SUMMARY -->
      <aside class="checkout-summary card-section">
        <h3>Order Summary</h3>
        <p class="section-subtitle">
          A quick peek at all the treats you‚Äôre about to enjoy. üç∞
        </p>

        <table class="checkout-table">
          <thead>
            <tr>
              <th>Item</th>
              <th class="text-center">Qty</th>
              <th class="text-right">Price</th>
            </tr>
          </thead>
          <tbody>
            {% for item in cart %}
            <tr>
              <td>
                <span class="item-title">{{ item.title }}</span>
              </td>
              <td class="text-center">{{ item.qty }}</td>
              <td class="text-right">
                <span class="old-price">${{ "%.2f"|format(item.price * item.qty) }}</span>
                <span class="free-pill">0.00</span>
              </td>
            </tr>
            {% endfor %}
            <tr class="total-row">
              <td colspan="2"><strong>Subtotal</strong></td>
              <td class="text-right total-amount">
                <span class="old-price">${{ "%.2f"|format(original_total) }}</span>
              </td>
            </tr>
            <tr class="total-row">
              <td colspan="2"><strong>Discount</strong></td>
              <td class="text-right total-amount">
                <strong>100% off</strong>
              </td>
            </tr>
            <tr class="total-row">
              <td colspan="2"><strong>Total</strong></td>
              <td class="text-right total-amount">
                <span class="free-pill large">Free</span>
              </td>
            </tr>
          </tbody>
        </table>

        <p class="tiny-note">
          üí° Prices shown include all bakery magic. Delivery fees (if any) will be shown at the next step.
        </p>
      </aside>
    </div>
{% else %}
    <div class="empty-cart">
      <p>Your cart is empty. üòø</p>
      <a href="/menu/view" class="btn ghost-btn">‚Üê Back to Menu</a>
    </div>
  {% endif %}
</div>

<div class="payment-strip">
  <div class="payment-strip-inner">
    <p class="payment-label">Payment Options</p>
    <div class="payment-row">
      <div class="payment-col left">
        <div class="badge-inline">
          <img src="/static/images/badge_icann.jpg" alt="ICANN">
          <p class="registrar-note">We are an not ICANN-accredited registrar.<br>Serving customers since 2099.</p>
        </div>
      </div>

      <div class="payment-col center">
        <div class="payment-badges">
          <img src="/static/images/badge_amex.jpg" alt="American Express">
          <img src="/static/images/badge_bitcoin.jpg" alt="Bitcoin">
          <img src="/static/images/badge_mastercard.jpg" alt="Mastercard">
          <img src="/static/images/badge_paypal.jpg" alt="PayPal">
          <img src="/static/images/badge_visa.png" alt="Visa">
          <img src="/static/images/badge_discover.jpg" alt="Discover">
        </div>
      </div>

      <div class="payment-col right">
        <div class="right-badges">
          <img src="/static/images/badge_sectigo.jpg" alt="Sectigo Secure">
          <img src="/static/images/badge_google_store.jpg" alt="Google Play">
          <img src="/static/images/badge_apple_store.jpg" alt="App Store">
        </div>
      </div>
    </div>
  </div>
</div>

{% endblock %}
