{% extends "base.html" %}

{% block title %}Checkout Â· Yorkie Bakery{% endblock %}

{% block content %}
<div class="checkout-page">
  <h1 class="checkout-title">ğŸ§¾ Checkout</h1>

  {% if cart %}
    <div class="checkout-layout">
      <!-- LEFT: CUSTOMER INFO -->
      <form action="/cart/checkout" method="post" class="checkout-form">
        <div class="card-section">
          <h3>Contact Information</h3>
          <p class="section-subtitle">
            Weâ€™ll use this to send your order confirmation and delivery updates. âœ‰ï¸
          </p>

          <label for="name">Your Name *</label>
          <input type="text" name="name" id="name" placeholder="e.g. Alex Baker" required>

          <label for="email">Email *</label>
          <input type="email" name="email" id="email" placeholder="you@example.com" required>

          <label for="address">Delivery Address *</label>
          <textarea name="address" id="address" rows="3" placeholder="Street, city, state, ZIP" required></textarea>
        </div>

        <button type="submit" class="btn confirm-btn">
          âœ… Confirm Order
        </button>
      </form>

      <!-- RIGHT: ORDER SUMMARY -->
      <aside class="checkout-summary card-section">
        <h3>Order Summary</h3>
        <p class="section-subtitle">
          A quick peek at all the treats youâ€™re about to enjoy. ğŸ°
        </p>

        <table class="checkout-table">
          <thead>
            <tr>
              <th>Item</th>
              <th class="text-center">Qty</th>
              <th class="text-right">Price</th>
            </tr>
          </thead>
          <tbody>
            {% for item in cart %}
            <tr>
              <td>
                <span class="item-title">{{ item.title }}</span>
              </td>
              <td class="text-center">{{ item.qty }}</td>
              <td class="text-right">
                ${{ "%.2f"|format(item.price * item.qty) }}
              </td>
            </tr>
            {% endfor %}
            <tr class="total-row">
              <td colspan="2"><strong>Total</strong></td>
              <td class="text-right total-amount">
                <strong>${{ "%.2f"|format(total) }}</strong>
              </td>
            </tr>
          </tbody>
        </table>

        <p class="tiny-note">
          ğŸ’¡ Prices shown include all bakery magic. Delivery fees (if any) will be shown at the next step.
        </p>
      </aside>
    </div>
  {% else %}
    <div class="empty-cart">
      <p>Your cart is empty. ğŸ˜¿</p>
      <a href="/menu/view" class="btn ghost-btn">â† Back to Menu</a>
    </div>
  {% endif %}
</div>

{% endblock %}