{% extends "base.html" %}

{% block content %}

<h1 style="text-align:center; margin-top:40px;">
  ğŸŒ¸ğŸ‰ Welcome to Yorkie Bakery ğŸ“ğŸ€
</h1>

<p style="text-align:center; margin-bottom:32px;">
  Baked fresh every day â€” let our Yorkie Chef ğŸ¶âœ¨ help you pick the perfect treat ğŸ¾ğŸ°
</p>

<section class="home-section">
  <h2 style="text-align:center;"> ğŸ¾ Menu Recommendation ğŸ‘¨â€ğŸ³</h2>
  <div style="text-align:center; margin-bottom:24px;">
    <button id="ai-demo-btn" class="btn"
            style="padding: 20px 40px; font-size: 20px;">
       ğŸ¤– AI Menu & Image Match
    </button>
  </div>

  <!-- ğŸ° Featured Menu Section -->
  <h2 style="text-align:center;">ğŸ° Featured Menu ğŸ˜</h2>
  <div style="text-align:center; margin-bottom:24px;">
    <a href="/menu/view" class="btn">ğŸ½ï¸Browse Our Menu ğŸŒ¸</a>
  </div>
  <div class="menu-grid" style="margin-bottom:16px;">
    {% for item in menu_items %}
    <div class="menu-card">
      <img src="{{ item.image_url or '/static/default_menu_image.jpg' }}" alt="{{ item.title }}">
      <h3>{{ item.title }}</h3>
      <p>{{ item.description or '' }}</p>
      {% if item.price is not none %}
        <p class="price">
          <span class="old-price">${{ "%.2f"|format(item.price) }}</span>
          <span class="free-pill">Free</span>
        </p>
      {% endif %}
    </div>
    {% endfor %}
  </div>
</section>

<!-- ğŸµ Music Section -->
<section class="home-section home-section-alt">
  <h2 style="text-align:center;">ğŸ¼ CafÃ© Music</h2>
  <div style="text-align:center; margin-bottom:24px;">
    <a href="/music/listen" class="btn-outline">ğŸµ Oscar's Music ğŸ¹ğŸ»</a>
  </div>

  <div style="
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 25px;
    max-width: 900px;
    margin: 0 auto;
  ">
    {% for track in tracks %}
    <div style="
      background: #fff;
      padding: 16px;
      border-radius: 12px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.08);
      text-align: center;
      border: 1px solid var(--border);
    ">

      <!-- Cover Image (small + clean) -->
    {% if track.cover_url %}
      <img src="{{ track.cover_url }}"
           alt="{{ track.title }}"
           style="width:120px; height:120px; object-fit:cover; border-radius:12px; margin-bottom:10px;">
    {% else %}
      <img src="/static/images/default_music_cover.jpg"
           alt="No cover"
           style="width:120px; height:120px; object-fit:cover; border-radius:12px; margin-bottom:10px;">
    {% endif %}

      <h3 style="font-size:18px; margin-bottom:5px;">{{ track.title }}</h3>

      {% if track.composer or track.performer %}
        <p style="font-size:14px; color:#555; margin-top:0;">
          {{ track.composer }}
          {% if track.composer and track.performer %} â€” {% endif %}
          {{ track.performer }}
        </p>
      {% endif %}

      {% if track.file_url %}
        <audio controls style="width:140px; margin-top:8px;">
          <source src="{{ track.file_url }}" type="audio/mpeg">
        </audio>
      {% else %}
        <p class="text-gray-500 italic">Track unavailable</p>
      {% endif %}

    </div>
    {% endfor %}
  </div>
</section>

<!-- ğŸ“± Mobile App Section -->
<section style="background:#2f2f2f; color:#e6e6e6; padding:80px 0;">
  <div style="max-width:1100px; margin:0 auto; display:flex; gap:48px; align-items:flex-start; justify-content:space-between; flex-wrap:wrap;">
    <div style="flex:1 1 320px; display:flex; justify-content:center;">
      <img src="/static/images/iphone.png" alt="Yorkie Bakery App preview" style="width:320px; max-width:100%; display:block;">
    </div>
    <div style="flex:1 1 360px; min-width:320px;">
      <p style="margin:0 0 8px 0; color:#c8c8c8; letter-spacing:0.3px;">Happy to Announce</p>
      <h2 style="margin:0 0 18px 0; font-size:34px; font-weight:600; color:#f1f1f1;">Mobile App is coming up on neither OS platform ğŸ˜‚ </h2>
      <div style="display:flex; gap:16px; flex-wrap:wrap; align-items:flex-start; margin-top:4px;">
        <a href="#" aria-label="Google Play badge">
          <img src="/static/images/badge_google_store.jpg" alt="Google Play" style="height:60px; display:block;">
        </a>
        <a href="#" aria-label="App Store badge">
          <img src="/static/images/badge_apple_store.jpg" alt="App Store" style="height:60px; display:block;">
        </a>
      </div>
    </div>
  </div>
</section>

<!-- ğŸŒŸ Our Services -->
<section style="background:#fff; padding:50px 0; text-align:center;">
  <h2 class="cursive-font">ğŸŒŸ Our Services ğŸ˜‹</h2>
  <p>We offer joyful experiences for every guest!</p>
  <ul style="list-style:none; padding:0;">
    <li>ğŸ‘¶ Kid-Friendly: nanny care, academic support, and piano tutoring ğŸ§¸ ğŸ¼ ğŸ¹ ğŸ¶ ğŸ¥ ğŸ˜</li>
    <li>ğŸ• Creative Culinary: custom-designed desserts and cakes ğŸ° ğŸ§ ğŸ¥® ğŸ® ğŸ© ğŸª</li>
    <li>ğŸšš Free Delivery for all your events</li>
  </ul>
</section>

<!-- ğŸ¾ About Me -->
<section style="background:#fffaf4; padding:60px 0; text-align:center;">
  <h2 class="cursive-font">ğŸ¾ About Me</h2>
  <img src="/static/images/img_oscar.jpg" alt="Chef Oscar" style="width:150px; border-radius:50%; margin-bottom:10px;">
  <p>
    Oscar is a full-time Yorkshire Terrier ğŸ¶ and part-time culinary mastermind ğŸ° born under the sunny skies of California. While most dogs chase mailmen, Oscar chased Michelin stars â€” eventually settling into life as the proud Owner & CEO of Yorkie Bakery.

    Standing a mighty eight pounds tall, he firmly believes height doesnâ€™t matter when your whisking skills are elite. His baking journey began the moment he realized treats donâ€™t magically refill themselves. After a spirited (and slightly chaotic) internship in a human kitchen, he mastered the arts of cakes, pastries, and looking adorable while demanding quality-control samples.

    When heâ€™s not in the kitchen, Oscar enjoys classical musicğŸ¶, piano improvisation, and barking at pigeons who clearly underestimate his artistic brilliance. He insists that every dessert at Yorkie Bakery is made with â€œa sprinkle of love and a whole lot of yum,â€ which â€” according to customers â€” is a surprisingly effective recipe.
  </p>
  <img src="/static/images/store.jpeg" alt="Bakery Store" style="width:250px; border-radius:10px; margin-top:20px;">
</section>

<!-- ğŸ•’ Store Hours -->
<section style="background:#fff; padding:40px 0; text-align:center;">
  <h2 class="cursive-font">ğŸ•’ Store Hours </h2>
  <p>Mon â€“ Sun: CLOSED ğŸ˜‚ (Appointments Only)</p>
  <p>Contact us to book private tastings or baking classes!</p>
</section>

<!-- ğŸ‘‘ Admin Upload Section -->
{% if request.session.get("user") and request.session.get("user").get("is_admin") %}
  <hr style="margin: 40px auto; width: 60%;">
  <div style="text-align:center;">
    <h3>ğŸ› ï¸ Admin Shortcuts</h3>
    <a href="/menu/new" class="btn btn-admin">â• Add Menu Item</a>
    <a href="/music/new" class="btn btn-admin">ğŸµ Upload Music</a>
    <a href="/events/new" class="btn btn-admin">â• Create Event</a>
  </div>
{% endif %}

{% endblock %}
